[
    {"name": "downloadstage3", "deps": [""], "parser": "downloadstage3", "args": [""]},
    {"name": "stage3", "deps": ["downloadstage3"], "parser": "stage3", "args": [""]},
    {"name": "config", "deps": ["stage3"], "parser": "config", "args": [""]},
    {"name": "overlays", "deps": ["config"], "parser": "overlays", "args": [""]},
    {"name": "git", "deps": ["overlays"], "parser": "git", "args": [""]},
    {"name": "portage", "deps": ["git"], "parser": "portage", "args": [""]},
    {"name": "etc", "deps": ["portage"], "parser": "etc", "args": [""]},
    {"name": "distcc", "deps": ["etc"], "parser": "emerge", "args": ["distcc -1bg", "-X"]},
    {"name": "distcchost", "deps": ["distcc"], "parser": "distcc", "args": [""]},
    {"name": "enabledistcc", "deps": ["distcchost"], "parser": "switchgcc", "args": ["aarch64-unknown-linux-gnu-9.3.0", "/usr/lib/distcc/bin/aarch64-unknown-linux-gnu-gcc-9.3.0", "/usr/lib/distcc/bin/aarch64-unknown-linux-gnu-g++-9.3.0"]},
    {"name": "updategcc", "deps": ["enabledistcc"], "parser": "emerge", "args": ["=sys-devel/gcc-10.3.0 -1", "-X"]},
    {"name": "rebuilddistcc", "deps": ["updategcc"], "parser": "emerge", "args": ["distcc -1bg --usepkg-exclude=distcc", "-X"]},
    {"name": "switchgcc", "deps": ["rebuilddistcc"], "parser": "switchgcc", "args": ["aarch64-unknown-linux-gnu-10.3.0", "/usr/lib/distcc/bin/aarch64-unknown-linux-gnu-gcc-10.3.0", "/usr/lib/distcc/bin/aarch64-unknown-linux-gnu-g++-10.3.0"]},
    {"name": "updatelibc", "deps": ["switchgcc"], "parser": "emerge", "args": ["=sys-libs/glibc-2.33 -1", "-X"]},
    {"name": "removeoldgcc", "deps": ["updatelibc"], "parser": "emerge", "args": ["--unmerge sys-devel/gcc:9.3.0 -1", "-X"]},
    {"name": "enablebinpkg", "deps": ["removeoldgcc"], "parser": "enablefeature", "args": ["buildpkg", "binpkg-multi-instance"]},
    {"name": "rebuildinstalled", "deps": ["enablebinpkg"], "parser": "emerge", "args": ["@installed --emptytree", "-elogind -filecaps"]},
    {"name": "zapcertifi", "deps": ["rebuildinstalled"], "parser": "emerge", "args": ["--unmerge dev-python/certifi"]},
    {"name": "certifi", "deps": ["zapcertifi"], "parser": "emerge", "args": ["dev-python/certifi", "python_targets_python3_8"]},
    {"name": "screen", "deps": ["distcchost", "certifi"], "parser": "emerge", "args": ["-v1g app-misc/screen", "", ""]},
    {"name": "update_portage", "deps": ["screen"], "parser": "emerge", "args": ["-v1bgj portage"]},
    {"name": "locale", "deps": ["update_portage"], "parser": "rawcommand", "args": ["eselect locale set en_US.utf8"]},
    {"name": "users", "deps": ["config", "update_portage"], "parser": "users", "args": [""]},
    {"name": "eix", "deps": ["update_portage"], "parser": "emerge", "args": ["eix"]},
    {"name": "eixupdate", "deps": ["eix"], "parser": "rawcommand", "args": ["eix-update"]},
    {"name": "bison", "deps": ["eixupdate"], "parser": "emerge", "args": ["-v1 bison"]},
    {"name": "updatelibc", "deps": ["bison"], "parser": "emerge", "args": ["-v1bg --update glibc"]},
    {"name": "emergesystem", "deps": ["updatelibc"], "parser": "emerge", "args": ["-v1bg --update --deep --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @system", "-X sqlite -introspection -gtk -elogind -policykit -qt5 -qt4"]},
    {"name": "setprofile", "deps": ["emergesystem", "config"], "parser": "setprofile", "args": [""]},
    {"name": "emergeprofile", "deps": ["setprofile"], "parser": "emerge", "args": ["-v1bg --update --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @system"]},
    {"name": "addsets", "deps": ["emergeprofile"], "parser": "addsets", "args": [""]},
    {"name": "setuptools", "deps": ["addsets"], "parser": "emerge", "args": ["-v1 dev-python/setuptools", "python_targets_python3_8 python_targets_python3_9"]},
    {"name": "workaround2", "deps": ["setuptools"], "parser": "emerge", "args": ["--update --deep dev-lang/python:3.9", "-bluetooth"]},
    {"name": "emergeworld", "deps": ["workaround2"], "parser": "emerge", "args": ["-v1bg --deep --update --newuse --with-bdeps=y --keep-going --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @world"], "env":{"SUPPRESS_BASHRC_MAKEOPTS": "1"}},
    {"name": "workaround1", "deps": ["emergeworld"], "parser": "emerge", "args": ["--update --newuse --deep --with-bdeps=y @world"]},
    {"name": "depclean", "deps": ["workaround1"], "parser": "emerge", "args": ["-v --depclean"]},
    {"name": "setupservices", "deps": ["depclean"], "parser": "setupservices", "args": [""]},
    {"name": "news", "deps": ["setupservices"], "parser": "rawcommand", "args": ["eselect news read &>/dev/null"]},
    {"name": "set_root_password","deps": ["news"], "parser": "password", "args": [""]}
]
