[
    {"name": "downloadstage3", "deps": [""], "parser": "downloadstage3", "args": [""]},
    {"name": "stage3", "deps": ["downloadstage3"], "parser": "stage3", "args": [""]},
    {"name": "config", "deps": ["stage3"], "parser": "config", "args": [""]},
    {"name": "overlays", "deps": ["config"], "parser": "overlays", "args": [""]},
    {"name": "git", "deps": ["overlays"], "parser": "git", "args": [""]},
    {"name": "portage", "deps": ["git"], "parser": "portage", "args": [""]},
    {"name": "etc", "deps": ["portage"], "parser": "etc", "args": [""]},
    {"name": "locale", "deps": ["etc"], "parser": "rawcommand", "args": ["eselect locale set en_US.utf8"]},
    {"name": "update_portage", "deps": ["locale"], "parser": "emerge", "args": ["--verbose --oneshot --jobs --tree --ignore-default-opts sys-apps/portage"]},
    {"name": "install_ccache", "deps": ["update_portage"], "parser": "emerge", "args": ["--verbose --jobs --tree --ignore-default-opts --binpkg-respect-use=y --binpkg-changed-deps=y --usepkg=y ccache"]},
    {"name": "update_world", "deps": ["install_ccache"], "parser": "emerge", "args": ["--verbose --update @world"]},
    {"name": "depclean_update_world", "deps": ["update_world"], "parser": "emerge", "args": ["--verbose --depclean"]},
    {"name": "rebuild_system", "deps": ["depclean_update_world"], "parser": "emerge", "args": ["--verbose --emptytree @system"]},
    {"name": "rebuild_world", "deps": ["rebuild_system"], "parser": "emerge", "args": ["--verbose --emptytree @world"]},
    {"name": "depclean_rebuild_world", "deps": ["rebuild_world"], "parser": "emerge", "args": ["--verbose --depclean"]},
    {"name": "set_profile", "deps": ["depclean_rebuild_world"], "parser": "setprofile", "args": [""]},
    {"name": "emerge_new_profile", "deps": ["set_profile"], "parser": "emerge", "args": ["--verbose --update @world"]},
    {"name": "add_sets", "deps": ["emerge_new_profile"], "parser": "addsets", "args": [""]},
    {"name": "emerge_new_sets", "deps": ["add_sets"], "parser": "emerge", "args": ["--verbose --update @world"]},
    {"name": "install_packages", "deps": ["emerge_new_sets"], "parser": "emerge", "args": ["--verbose --update @world $(/em-config packages '* ')"]},
    {"name": "ccache_stats", "deps": ["install_packages"], "parser": "rawcommand", "args": ["ccache -d /var/tmp/ccache --show-stats"]},
    {"name": "unmerge_ccache", "deps": ["ccache_stats"], "parser": "emerge", "args": ["--unmerge ccache"]},
    {"name": "depclean_new_profile", "deps": ["unmerge_ccache"], "parser": "emerge", "args": ["--verbose --depclean"]},
    {"name": "eclean-pkg", "deps": ["depclean_new_profile"], "parser": "rawcommand", "args": ["eclean-pkg --time-limit=1m"]},
    {"name": "eclean-dist", "deps": ["eclean-pkg"], "parser": "rawcommand", "args": ["eclean-dist --time-limit=1m"]},
    {"name": "users", "deps": ["eclean-dist"], "parser": "users", "args": [""]},
    {"name": "setup_services", "deps": ["users"], "parser": "setupservices", "args": [""]},
    {"name": "news", "deps": ["setup_services"], "parser": "rawcommand", "args": ["eselect news read &>/dev/null"]},
    {"name": "set_root_password","deps": ["news"], "parser": "password", "args": [""]}
]
