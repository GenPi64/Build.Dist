[
    {"name": "downloadstage3", "deps": [""], "parser": "downloadstage3", "args": [""]},
    {"name": "stage3", "deps": ["downloadstage3"], "parser": "stage3", "args": [""]},
    {"name": "config", "deps": ["stage3"], "parser": "config", "args": [""]},
    {"name": "overlays", "deps": ["config"], "parser": "overlays", "args": [""]},
    {"name": "git", "deps": ["overlays"], "parser": "git", "args": [""]},
    {"name": "portage", "deps": ["git"], "parser": "portage", "args": [""]},
    {"name": "etc", "deps": ["portage"], "parser": "etc", "args": [""]},
    {"name": "removeoldgcc", "deps": ["etc"], "parser": "echo", "args": ["skipping --unmerge sys-devel/gcc:10.2.0 -1"]},
    {"name": "enablebinpkg", "deps": ["removeoldgcc"], "parser": "enablefeature", "args": ["buildpkg", "binpkg-multi-instance"]},
    {"name": "updateworld", "deps": ["enablebinpkg"], "parser": "emerge", "args": ["-e @world"]},
    {"name": "zapcertifi", "deps": ["updateworld"], "parser": "emerge", "args": ["--unmerge dev-python/certifi"]},
    {"name": "certifi", "deps": ["zapcertifi"], "parser": "emerge", "args": ["dev-python/certifi", "python_targets_python3_8"]},
    {"name": "screen", "deps": ["certifi"], "parser": "emerge", "args": ["-v1g app-misc/screen", "", ""]},
    {"name": "update_portage", "deps": ["screen"], "parser": "emerge", "args": ["-v1bgj portage"]},
    {"name": "locale", "deps": ["update_portage"], "parser": "rawcommand", "args": ["eselect locale set en_US.utf8"]},
    {"name": "users", "deps": ["config", "update_portage"], "parser": "users", "args": [""]},
    {"name": "eix", "deps": ["update_portage"], "parser": "emerge", "args": ["eix"]},
    {"name": "eixupdate", "deps": ["eix"], "parser": "rawcommand", "args": ["eix-update"]},
    {"name": "bison", "deps": ["eixupdate"], "parser": "emerge", "args": ["-v1 bison"]},
    {"name": "updatelibc", "deps": ["bison"], "parser": "emerge", "args": ["-v1bg --update --deep  --newuse --jobs glibc"]},
    {"name": "emergesystem", "deps": ["updatelibc"], "parser": "emerge", "args": ["-v1bg --update --deep --newuse --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @system", "-X sqlite -introspection -gtk -elogind -policykit -qt5 -qt4"]},
    {"name": "setprofile", "deps": ["emergesystem", "config"], "parser": "setprofile", "args": [""]},
    {"name": "emergeprofile", "deps": ["setprofile"], "parser": "emerge", "args": ["-v1bg --update --deep --newuse --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @system"]},
    {"name": "addsets", "deps": ["emergeprofile"], "parser": "addsets", "args": [""]},
    {"name": "setuptools", "deps": ["addsets"], "parser": "emerge", "args": ["-v1bg --update --newuse dev-python/setuptools"]},
    {"name": "emergeworld", "deps": ["setuptools"], "parser": "emerge", "args": ["-v1bg --deep --update --newuse --with-bdeps=y --keep-going --jobs $(/em-config jobs) --load-average $(/em-config load-average) --tree --autounmask-backtrack=y --backtrack=3000 @world"], "env":{"SUPPRESS_BASHRC_MAKEOPTS": "1"}},
    {"name": "depclean", "deps": ["emergeworld"], "parser": "emerge", "args": ["-v --depclean"]},
    {"name": "setupservices", "deps": ["depclean"], "parser": "setupservices", "args": [""]},
    {"name": "news", "deps": ["setupservices"], "parser": "rawcommand", "args": ["eselect news read &>/dev/null"]},
    {"name": "set_root_password","deps": ["news"], "parser": "password", "args": [""]}
]
